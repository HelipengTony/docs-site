import { Card, Grid, Badge, Tree } from "@zeit-ui/react";

# 欢迎使用 ODoc

ODoc 是一个支持**热加载/预览**、一键**生产环境**部署，基于 [MDX](https://mdxjs.com) 文件生成路由的文档站点生成引擎。基于 [Next.js](https://www.nextjs.cn) 开发并支持框架提供的全部特性，插件、热预览、静态站点生成等。
零代码需求，只需撰写 **MarkDown** 文件并通过文件夹按分类归档，即可快速生成文档站点。支持 **React 组件**的预览和内容嵌入、支持按**标题搜索**的功能(全文搜索后续更新)、通过 [Prism.js](https://prismjs.com) 支持**代码高亮**等。

<Grid.Container gap={2}>
  <Grid md={6} xs={24}>
    <Card shadow>
      <h3 style={{ textTransform: "capitalize" }}>MarkDown 支持</h3>
      <span>
        <Badge type="success">功能</Badge> .MDX / .MD 页面
      </span>
    </Card>
  </Grid>
  <Grid md={6} xs={24}>
    <Card shadow>
      <h3 style={{ textTransform: "capitalize" }}>基于 Next.js</h3>
      <span>
        <Badge type="success">功能</Badge> 支持 .tsx / .jsx 页面
      </span>
    </Card>
  </Grid>
  <Grid md={6} xs={24}>
    <Card shadow>
      <h3 style={{ textTransform: "capitalize" }}>内置搜索支持</h3>
      <span>
        <Badge type="warning">更新中</Badge> 支持标题搜索
      </span>
    </Card>
  </Grid>
  <Grid md={6} xs={24}>
    <Card shadow>
      <h3 style={{ textTransform: "capitalize" }}>文件自动路由</h3>
      <span>
        <Badge type="success">功能</Badge> 按照文件目录生成路由
      </span>
    </Card>
  </Grid>
</Grid.Container>

<br/>

# Get Started 快速开始

ODoc 提供一个 Starter Kit，你可以一键安装已完善好环境配置的站点包，快速开始进行内容装载。只需在终端执行以下命令 (可通过 npm 或 yarn 安装)，当然，在此之前请确保你的本地环境支持 Node.js / TypeScript，并已经初始化好一个 NPM 项目。
```bash
npm create odoc-site / yarn create odoc-site
```
如果出现 Connection Refused 或其他如 Promise Error 等本地网络与 Github 连接问题，请尝试直接通过以下命令获取 ODoc，克隆完成后需手动修改 odoc.config.js 以配置全局设置。
```bash
git clone -b example git@github.com:HelipengTony/odoc.git
yarn install / npm install
```

<br/>

# Slow-mo 慢速开始

如果你对上面的命令行不熟悉，我们也可以从头开始讲。请先行建立一个空白文件夹，并进行 NPM 初始化：
```bash
npm init / yarn init
```
接下来在终端执行：
```bash
npm create odoc-site
```
如果出现 Connection Refused 或其他如 Promise Error 等本地网络与 Github 连接问题，请尝试直接通过以下命令获取 ODoc，克隆完成后需手动修改 odoc.config.js 以配置全局设置。
```bash
git clone -b example git@github.com:HelipengTony/odoc.git
yarn install / npm install
```
接下来进行 odoc.config.js 全局文件配置，输入关键信息：
+ 站点名
+ 站点在线地址
+ 站点 Github 仓库
+ 站点 Repo 分支

![configuration_generation_1](https://i.loli.net/2020/06/29/A65Q8ioMqfYcjae.png)

接下来等待自动配置步骤完成，直到出现 Done! 的提示：

![configuration_generation_2](https://i.loli.net/2020/06/29/AZbDkqpRnKtiI5Y.png)

接下来便可以启动你的 ODoc 项目了：
```bash
// Development
yarn run dev / npm run dev
```
部署到开发环境：
```bash
// Production
yarn run build
yarn run start
```

<br/>

# 关键目录指南

<Tree
  value={[
    {
      type: "directory",
      name: "odoc",
      extra: "ODoc 主要目录",
      files: [
        {
          type: "directory",
          name: "components",
          extra: "ODoc 组件目录",
          files: [
            {
              type: "file",
              name: "header.tsx",
              extra: "ODoc 顶部组件",
            },
            {
              type: "file",
              name: "footer.tsx",
              extra: "ODoc 底部组件",
            },
            {
              type: "file",
              name: "sidebar.tsx",
              extra: "ODoc 左边栏组件",
            },
            {
              type: "file",
              name: "rightside.tsx",
              extra: "ODoc 右边栏组件",
            },
          ],
        },
        {
          type: "directory",
          name: "generators",
          extra: "ODoc 生成器目录",
          files: [
            {
              type: "file",
              name: "menu.ts",
              extra: "ODoc 目录生成器",
            },
            {
              type: "file",
              name: "sidebar.ts",
              extra: "ODoc 边栏生成器",
            },
            {
              type: "file",
              name: "search.ts",
              extra: "ODoc 搜索生成器",
            },
          ],
        },
        {
          type: "directory",
          name: "lib/components",
          extra: "ODoc 插件组件目录",
          files: [
            {
              type: "file",
              name: "codeBlock.tsx",
              extra: "Prism.js 代码高亮配置",
            },
          ],
        },
        {
          type: "directory",
          name: "style",
          extra: "ODoc 样式文件目录",
          files: [
            {
              type: "file",
              name: "main.scss",
              extra: "ODoc 全局样式表",
            },
          ],
        },
      ],
    },
    {
      type: "directory",
      name: "src",
      extra: "Next.js 主要目录",
      files: [
        {
          type: "directory",
          name: "pages",
          extra: "Next.js 内容目录",
          files: [
            {
              type: "directory",
              name: "posts",
              extra: "ODoc 内容文件目录",
            },
            {
              type: "directory",
              name: "api",
              extra: "Next.js API 目录",
              files: [
                {
                  type: "file",
                  name: "[name].ts",
                  extra: "ODoc 文章信息 API",
                },
              ],
            },
            {
              type: "file",
              name: "_app.tsx",
              extra: "Next.js 主要入口文件",
            },
            {
              type: "file",
              name: "index.mdx",
              extra: "ODoc 首页内容",
            },
          ],
        },
      ],
    },
    {
      type: "directory",
      name: "public",
      extra: "Next.js 公共目录",
    },
    {
      type: "file",
      name: "odoc.config.js",
      extra: "ODoc 全局配置文件",
    },
    {
      type: "file",
      name: "next.config.js",
      extra: "Next.js 全局配置文件",
    },
  ]}
/>

<br />

## Donation 赞助作者
Your name will be on the list [Donation](https://www.ouorz.com/donation)
<br/>

![Donate](https://i.loli.net/2019/02/18/5c6a80afd1e26.png)

<br/>

File an issue if you encountered any problem
<br/>
I will reply you as soon as possible